# cache2k version 0.20 release notes

## TODO

Not yet released. Planed stuff for 0.20:

  * revised Expiry configuration for exceptions
  * Memory usage benchmark

## Possible breakages

  * An expiry time span of 0 (e.g. CacheConfig.setExpirySeconds) switches off caching.
    It is not possible to override this with and entry specific time calculation.

## New and Noteworthy

  * android support. cache2k-api and cache2k-core is compatible with Java 1.6 and android.
    extra features needed in enterprise environments seperated to module cache2k-ee.
  * Revised interface to control entry specific expiry (EntryExpiryCalculator)
  * Configuration / tunable properties
  * Support sharp timing/expiry
  * Bulk API fixes and defined exception handling
  * General infrastructure for off heap caching and persistence (alpha state)  
  * Provide a iterator for all cache entries. Iterator supports full concurrency
  * Simple logging infrastructure
  * Optimized cache configuration. The builder can now build the cache or just a configuration object

## Fixes and Improvements

  * Reorganized and improved locking scheme

## API Changes and new methods

  * add: CacheConfig.setEternal() / CacheBuilder.eternal()
  * add: Cache.iterator()
  * add: Cache.peekEntry()
  * add: Cache.getEntry()
  * add: Cache.putIfAbsent()
  * add: CacheConfig.setExpiryMillis()
  * add: CacheBuilder.setExpiryDuration()
  * new: EntryExpiryCalculator, replaces EntryRefreshController
  * new: ValueWithExpiryTime
  * new: BulkCacheSource configurable via CacheBuilder, replaces ExperimentalBulkCacheSource
  * Annotations javax.annotation.Nonnull and javax.annotation.NotNull removed. 
    Dependency on JSR305 removed. This is not a final standard.
 
Deprecated:

  * EntryRefreshController
  * AutoEntryRefreshController
  * CacheConfig.setExpirySeconds
  * CacheBuilder.expirySecs
  * CacheBuilder.expiryMillis
  
Deprecated methods and interfaces will be removed with release 0.22.   
